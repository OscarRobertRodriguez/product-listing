function openCart(){var t=document.querySelector(".modal");t.style.display="block",window.onclick=function(e){e.target==t&&(t.style.display="none")}}function animateBounce(t){var e=t.target;e.classList.add("animated"),e.classList.add("bounce"),window.setTimeout(function(){e.classList.remove("animated"),e.classList.remove("bounce")},1e3),animateRubberBand()}function animateRubberBand(){var t=document.querySelector(".cart");t.classList.add("animated"),t.classList.add("rubberBand"),window.setTimeout(function(){t.classList.remove("animated"),t.classList.remove("rubberBand")},900)}function addToCart(t){var e=t.target.parentNode,r=e.getAttribute("id"),a=e.querySelector(".itemName").innerText,i=e.querySelector(".zoom").childNodes[1].src,o=e.querySelector(".type").innerHTML.toLowerCase().replace(" ","").trim(),n=parseFloat(e.querySelector(".price").innerHTML.replace("$","")),c=cart.itemsCart.length,m=utilities.find(cart.itemsCart,r),l=cart.itemsCart.length;0===c||m===-1?cart.itemsCart.push({id:r,name:a,featuredImage:i,price:n,totalPrice:n,quantity:1,inputId:l,brand:o}):cart.itemsCart[m].quantity<10&&(cart.itemsCart[m].quantity+=1,cart.itemsCart[m].totalPrice+=n),document.querySelector(".quantityUpdate").innerHTML=utilities.cartTotalItems(cart.itemsCart),displayInCart(),updateTotalPrice()}function displayInCart(){var t=document.getElementById("checkoutNameUl");t.innerHTML="";for(var e=0;e<cart.itemsCart.length;e++)e>=1&&(t.innerHTML+="<hr id='line"+e+"'><br>"),t.innerHTML+='<li class="checkoutContentsLi" id="product'+cart.itemsCart.length+'"><div class="cartInfo imageDiv"><img class="imageCart" src="'+cart.itemsCart[e].featuredImage+'"></div><div class="cartInfo itemDiv"><p>'+cart.itemsCart[e].name+'</p></div><div class="cartInfo priceDiv"><p>$ '+cart.itemsCart[e].price+'</p></div><div class="cartInfo quantityDiv"><button class="button1" onclick="decrementValue(this)" value="-">-</button><input id ="'+cart.itemsCart[e].inputId+'" readonly="readonly" class="quantityInput" type="text" min="0" max="10" value="'+cart.itemsCart[e].quantity+'"><button class="button2" onclick="incrementValue(this)" value="+">+</button></div><div class="cartInfo priceTotalDiv"><p>$'+cart.itemsCart[e].totalPrice+'</p></div><div class="cartInfo removeDiv"><a class="removeItem" href="#" onclick="remove(this)">x</a></div><li>'}function remove(t){var e=t.parentNode.previousSibling.previousSibling.previousSibling,r=e.previousSibling.firstChild.innerHTML,a=utilities.findByProductName(cart.itemsCart,r);(cart.promoMemory1.length>0||cart.promoMemory2.length>0||cart.promoMemory3.length>0)&&(alert("Please reapply your discount code."),document.getElementById("textFieldPromo").value=""),cart.promoMemory1.splice(0,1),cart.promoMemory2.splice(0,1),cart.promoMemory3.splice(0,1),cart.itemsCart.splice(a,1),document.querySelector(".quantityUpdate").innerHTML=utilities.cartTotalItems(cart.itemsCart),animateRubberBand(),updateTotalPrice(),displayInCart()}function decrementValue(t){var e=t.parentNode.previousSibling.previousSibling,r=e.firstChild.innerHTML,a=t.nextSibling,i=Number(a.value),o=utilities.findByProductName(cart.itemsCart,r);cart.itemsCart[o].name===r&&i>1?(cart.itemsCart[o].quantity-=1,cart.itemsCart[o].totalPrice-=cart.itemsCart[o].price,i=isNaN(i)?0:i,i-=1,a.setAttribute("value",i),document.querySelector(".quantityUpdate").innerHTML=utilities.cartTotalItems(cart.itemsCart),animateRubberBand(),updateTotalPrice(),displayInCart()):(cart.itemsCart.splice(o,1),document.querySelector(".quantityUpdate").innerHTML=utilities.cartTotalItems(cart.itemsCart),animateRubberBand(),updateTotalPrice(),displayInCart())}function incrementValue(t){var e=t.parentNode.previousSibling.previousSibling,r=e.firstChild.innerHTML,a=t.previousSibling,i=Number(a.value),o=utilities.findByProductName(cart.itemsCart,r);cart.itemsCart[o].name===r&&i>0&&(cart.itemsCart[o].quantity+=1,cart.itemsCart[o].totalPrice+=cart.itemsCart[o].price,i=isNaN(i)?0:i,i+=1,a.setAttribute("value",i),document.querySelector(".quantityUpdate").innerHTML=utilities.cartTotalItems(cart.itemsCart),animateRubberBand(),updateTotalPrice(),displayInCart())}function calculatePromo(t){var e=t.parentNode,r=e.previousSibling.previousSibling.firstChild.nextSibling,a=r.value.toUpperCase().toUpperCase().trim(),i=Number(document.getElementById("checkoutPrice").innerHTML.replace("$","").replace("USD","").trim()),o=document.getElementById("checkoutPrice"),n=utilities.cartTotalItems(cart.itemsCart),c=utilities.findByProductBrand(cart.itemsCart,"iphone7"),m=0;0===n&&alert("Your cart is empty"),a||alert("No promo code typed");for(var l in cart.promos)a==l?(c!==-1&&"iphone7"===cart.itemsCart[c].brand&&"IPHONE15"===a&&cart.promoMemory1.length<1?0===cart.promoMemory2.length&&0===cart.promoMemory3.length&&(cart.promoMemory1.push(a),i*=cart.promos[l],o.innerHTML="$ "+i.toFixed(2)+" USD"):"MANIA10"===a&&cart.promoMemory1.length>0?.85*neutralTotalPrice()>neutralTotalPrice()-cart.itemsCart[0].price+.9*cart.itemsCart[0].price&&"MANIA10"===a?(o.innerHTML="$ "+(neutralTotalPrice()-cart.itemsCart[0].price+.9*cart.itemsCart[0].price).toFixed(2)+" USD",cart.promoMemory1.splice(0,1),cart.promoMemory2.push(a)):alert("Another code has already been entered.This price will not be lower with this code."):"MANIA10"===a&&cart.promoMemory2.length<1&&0===cart.promoMemory1.length&&0===cart.promoMemory3.length&&(cart.promoMemory2.push(a),i-=cart.itemsCart[0].price,i+=cart.itemsCart[0].price*cart.promos[l],o.innerHTML="$ "+i.toFixed(2)+" USD"),"IPHONE15"===a&&"MANIA10"===cart.promoMemory2[0]?.85*neutralTotalPrice()<neutralTotalPrice()-cart.itemsCart[0].price+.9*cart.itemsCart[0].price&&(o.innerHTML="$ "+(.85*neutralTotalPrice()).toFixed(2)+" USD",cart.promoMemory2.splice(0,1),cart.promoMemory1.push(a)):"FANTASTIC5"===a&&cart.promoMemory3.length<1&&0===cart.promoMemory1.length&&0===cart.promoMemory2.length&&(cart.promoMemory3.push(a),i*=cart.promos[l],o.innerHTML="$ "+i.toFixed(2)+" USD"),"IPHONE15"===a&&"FANTASTIC5"===cart.promoMemory3[0]&&.85*neutralTotalPrice()<.95*neutralTotalPrice()&&(o.innerHTML="$ "+(.85*neutralTotalPrice()).toFixed(2)+" USD",cart.promoMemory3.splice(0,1),cart.promoMemory1.push(a)),"MANIA10"===a&&"FANTASTIC5"===cart.promoMemory3[0]?.9*neutralTotalPrice()<.95*neutralTotalPrice()&&0===cart.promoMemory1.length&&(o.innerHTML="$ "+(.9*neutralTotalPrice()).toFixed(2)+" USD",cart.promoMemory3.splice(0,1),cart.promoMemory2.push(a)):"FANTASTIC5"===a&&(cart.promoMemory2.length>0||cart.promoMemory1.length>0)&&alert("Another code has already been applied. This price will not be lower with this code.")):m<1&&"MANIA10"!==a&&"IPHONE15"!==a&&"FANTASTIC5"!==a&&a.length>0&&(alert("Invalid promo code please make sure it's correct."),m++)}function neutralTotalPrice(){for(var t=0,e=0;e<cart.itemsCart.length;)t+=cart.itemsCart[e].totalPrice,e++;return t}function updateTotalPrice(){var t=document.getElementById("checkoutPrice"),e=0,r=0;for(t.innerHTML="";r<cart.itemsCart.length;)e+=cart.itemsCart[r].totalPrice,r++;0===cart.promoMemory1.length&&0===cart.promoMemory2.length&&0===cart.promoMemory3.length?t.innerHTML+="$ "+e+" USD":1===cart.promoMemory1.length&&"IPHONE15"===cart.promoMemory1[0]?t.innerHTML+="$ "+(.85*e).toFixed(2)+" USD":1===cart.promoMemory3.length&&"FANTASTIC5"===cart.promoMemory3[0]?t.innerHTML+="$ "+(.95*e).toFixed(2)+" USD":1===cart.promoMemory2.length&&"MANIA10"===cart.promoMemory2[0]&&(t.innerHTML+="$ "+(e-cart.itemsCart[0].price+.9*cart.itemsCart[0].price).toFixed(2)+" USD")}var utilities={find:function(t,e){for(var r=0,a=!1;!a&&r<t.length;)t[r].id===e&&(a=!0),r++;return a?r-1:-1},cartTotalItems:function(t){for(var e=0,r=0;e<t.length;)r+=t[e].quantity,e++;return r},findByProductName:function(t,e){for(var r=0,a=!1;!a&&r<t.length;)t[r].name===e&&(a=!0),r++;return a?r-1:null},findByProductBrand:function(t,e){for(var r=0,a=!1;!a&&r<t.length;)t[r].brand===e&&(a=!0),r++;return a?r-1:null}};!function(){var t=[{text:"Use <span class='navPromoListing'>MANIA10</span> for 10% off one item"},{text:"Use <span class='navPromoListing'>IPHONE15</span> for 15% off all Iphone Cases"},{text:"Use <span class='navPromoListing'>FANTASTIC5</span> for 5% off your total order"}];t=t[Math.floor(Math.random()*t.length)],document.querySelector(".fixedHeading").innerHTML=t.text}();for(var cart={itemsCart:[],promos:{MANIA10:.9,IPHONE15:.85,FANTASTIC5:.95},promoMemory1:[],promoMemory2:[],promoMemory3:[]},addButtons=document.getElementsByClassName("zoom"),i=0;i<addButtons.length;i++)addButtons[i].addEventListener("click",addToCart),addButtons[i].addEventListener("click",animateBounce);